<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <style>
        body{
            margin: 0;
        }
        canvas{
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
<div id="stats-output"></div>
<script src="https://cdn.bootcss.com/three.js/91/three.js"></script>
<script src="./lib/Stats.js"></script>
<script src="./lib/dat.gui.js"></script>
<script src="./lib/SceneUtils.js"></script>

<script>
    // 帧率辅助
    var stats = new Stats();
    stats.setMode(0);
    stats.domElement.style.position = 'absolute';
    stats.domElement.style.left = '0px';
    stats.domElement.style.top = '0px';
    document.getElementById('stats-output').appendChild(stats.domElement);

    // 三要素
    var scene = new THREE.Scene();
    var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
    var renderer = new THREE.WebGLRenderer();

    camera.position.set(10,10,10);
    camera.lookAt(new THREE.Vector3(0,0,0));
    renderer.setSize(window.innerWidth, window.innerHeight, true);
    renderer.setClearColor(0x222222);
    renderer.shadowMap.enabled = true;
    document.body.appendChild(renderer.domElement);

    // 轴辅助
    var axes = new THREE.AxesHelper(20);
    scene.add(axes);

    // 窗体大小改变时重置分辨率等参数
    function onResize(){
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // 浏览器改变事件
    window.addEventListener('resize', onResize, false);

    // 环境光
    var ambientLight = new THREE.AmbientLight(0x222222, 0.5);
    scene.add(ambientLight);

    // 添加聚光灯光源
    var spotLight = new THREE.SpotLight(0xffffff);
    spotLight.position.set(30,30,0);
    spotLight.castShadow = true;
    scene.add(spotLight);

    /** =================================
     * 以上不变
     * ================================== **/

    // 自定义个立方体试试
    var vertices = [ // 顶点坐标
        new THREE.Vector3(1,3,1),
        new THREE.Vector3(1,3,-1),
        new THREE.Vector3(1,-1,1),
        new THREE.Vector3(1,-1,-1),
        new THREE.Vector3(-1,3,-1),
        new THREE.Vector3(-1,3,1),
        new THREE.Vector3(-1,-1,-1),
        new THREE.Vector3(-1,-1,1),
        ];
    var faces = [
      new THREE.Face3(0,2,1),
      new THREE.Face3(2,3,1),
      new THREE.Face3(4,6,5),
      new THREE.Face3(6,7,5),
      new THREE.Face3(4,5,1),
      new THREE.Face3(5,0,1),
      new THREE.Face3(7,6,2),
      new THREE.Face3(6,3,2),
        new THREE.Face3(5,7,0),
        new THREE.Face3(7,2,0),
        new THREE.Face3(1,3,4),
        new THREE.Face3(3,6,4),
    ];
    var geom = new THREE.Geometry();
    geom.vertices = vertices;
    geom.faces = faces;
    geom.computeFaceNormals();

    var ms = [
        new THREE.MeshLambertMaterial({ color: 0x7777ff }),
        new THREE.MeshBasicMaterial({ color: 0x000000, wireframe: true })
    ];
    var m1 = new THREE.MeshLambertMaterial({ color: 0xaa0000 });
    //var mesh = THREE.SceneUtils.createMultiMaterialObject(geom, ms);
    var mesh = new THREE.Mesh(geom, m1);
    //var c = new THREE.Mesh(geom, m);
    scene.add(mesh);



    //var geom2 = mesh.children[0].geometry.clone();
    var geom2 = new THREE.Geometry();
    geom2.vertices = vertices;
    geom2.faces = faces;
    geom2.computeFaceNormals();
    console.log('C是什么：', geom2);
    var m2 = new THREE.MeshLambertMaterial({ color: 0xaa0000 });
    var mesh2 = new THREE.Mesh(geom2, m2);
    mesh2.position.set(5,0,0);
    scene.add(mesh2);

    var helper = new THREE.WireframeHelper(mesh, 0xffffff);
    scene.add(helper);
    helper.material.linewidth = 20;
    helper.scale.x = 2;
    helper.scale.y = 2;
    helper.scale.z = 2;
    /** =================================
     * 以下不变
     * ================================== **/
    animate();

    // 渲染方法
    function animate() {
        requestAnimationFrame(animate);
        stats.update();

        renderer.render(scene, camera);
    }
</script>
</body>
</html>