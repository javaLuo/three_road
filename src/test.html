<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>three.js css2d - label</title>
<style>
body {
    background-color: #000;
    margin: 0;
    overflow: hidden;
}
.label{
    color: #FFF;
    font-family: sans-serif;
    padding: 2px;
    background: rgba( 0, 0, 0, .6 );
}

</style>
</head>
<body>
<script src="https://cdn.bootcss.com/three.js/92/three.js"></script>

<script src="./lib/OrbitControls.js"></script>  <!-- 镜头控制 -->

<script src="./lib/CSS2DRenderer.js"></script> <!-- 2D DIV -->

    <script>
var camera, scene, renderer, labelRenderer;
var controls;
var clock = new THREE.Clock();
var earth, moon;
init();
animate();
function init() {
    var EARTH_RADIUS = 1; // 地球半径
    var MOON_RADIUS = 0.27; // 月球半径
    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 1000 );
    camera.position.set( 10, 5, 20 );
    controls = new THREE.OrbitControls( camera );

    scene = new THREE.Scene();

    var axesHelper = new THREE.AxesHelper( 5 );
    scene.add( axesHelper );

    // 添加地球
    var earthGeometry = new THREE.SphereBufferGeometry( EARTH_RADIUS, 16, 16 );
    var earthMaterial = new THREE.MeshBasicMaterial( {
        color: 0xcccccc
    } );
    earth = new THREE.Mesh( earthGeometry, earthMaterial );
    scene.add( earth );

    // 添加月球
    var moonGeometry = new THREE.SphereBufferGeometry( MOON_RADIUS, 16, 16 );
    var moonMaterial = new THREE.MeshBasicMaterial( {
        color: 0xff00ff
    } );
    moon = new THREE.Mesh( moonGeometry, moonMaterial );
    scene.add( moon );

    // 地球牌子
    var earthDiv = document.createElement( 'div' );
    earthDiv.className = 'label';
    earthDiv.textContent = 'Earth';
    earthDiv.style.marginTop = '-1em';

    // 用这个div创建three2d对象
    var earthLabel = new THREE.CSS2DObject( earthDiv );
    earthLabel.position.set( 0, EARTH_RADIUS, 0 ); // 将其坐标设置为原点偏上
    earth.add( earthLabel );

    // 月球牌子
    var moonDiv = document.createElement( 'div' );
    moonDiv.className = 'label';
    moonDiv.textContent = 'Moon';
    moonDiv.style.marginTop = '-1em';
    var moonLabel = new THREE.CSS2DObject( moonDiv );
    moonLabel.position.set( 0, MOON_RADIUS, 0 );
    moon.add( moonLabel );

    // 普通场景的渲染器
    renderer = new THREE.WebGLRenderer();
    renderer.setPixelRatio( window.devicePixelRatio );
    renderer.setSize( window.innerWidth, window.innerHeight );
    document.body.appendChild( renderer.domElement );

    // 2D牌子的渲染器
    labelRenderer = new THREE.CSS2DRenderer();
    labelRenderer.setSize( window.innerWidth, window.innerHeight );
    labelRenderer.domElement.style.position = 'absolute';
    labelRenderer.domElement.style.top = 0;
    document.body.appendChild( labelRenderer.domElement );
}
function animate() {
    requestAnimationFrame( animate );
    var elapsed = clock.getElapsedTime();
    moon.position.set( Math.sin( elapsed ) * 5, 0, Math.cos( elapsed ) * 5 );
    renderer.render( scene, camera );
    labelRenderer.render( scene, camera );
}
</script>
</body>
</html>